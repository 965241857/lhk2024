<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>毕业设计选题管理系统 - 弹窗示例</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../lib/layui-v2.6.3/css/layui.css" media="all">
    <link rel="stylesheet" href="../css/public.css" media="all">
</head>
<body>
<div class="layuimini-container">
    <div class="layuimini-main">
        <blockquote class="layui-elem-quote">
            以下是毕业设计选题管理系统中常用的弹窗示例，可用于课题发布、审核、通知等功能场景
        </blockquote>
        <a class="layui-btn layui-btn-normal" href="javascript:history.back()" >返回系统首页</a>

        <fieldset class="layui-elem-field layui-field-title site-demo-button" style="margin-top: 30px;">
            <legend>系统常用弹窗示例</legend>
        </fieldset>

        <div class="site-demo-button" id="layerDemo" style="margin-bottom: 0;">
            <blockquote class="layui-elem-quote layui-quote-nm">
                Tips：点击下方按钮可查看不同类型的弹窗效果，适用于课题管理的不同场景
            </blockquote>
            <button data-method="setTop" class="layui-btn">课题审核窗口（可置顶）</button>
            <button data-method="confirmTrans" class="layui-btn">课题删除确认框</button>
            <button data-method="notice" class="layui-btn">系统公告通知</button>
            <button data-method="offset" data-type="t" class="layui-btn layui-btn-normal">顶部通知（新消息）</button>
            <button data-method="offset" data-type="r" class="layui-btn layui-btn-normal">右侧提示（提交成功）</button>
            <button data-method="offset" data-type="b" class="layui-btn layui-btn-normal">底部通知（截止提醒）</button>
            <button data-method="offset" data-type="l" class="layui-btn layui-btn-normal">左侧帮助提示</button>
            <button data-method="offset" data-type="lt" class="layui-btn layui-btn-normal">左上弹窗（小提示）</button>
            <button data-method="offset" data-type="lb" class="layui-btn layui-btn-normal">左下弹窗（操作指南）</button>
            <button data-method="offset" data-type="rt" class="layui-btn layui-btn-normal">右上弹窗（通知）</button>
            <button data-method="offset" data-type="rb" class="layui-btn layui-btn-normal">右下弹窗（消息）</button>
            <button data-method="offset" data-type="auto" class="layui-btn layui-btn-normal">居中弹窗（课题详情）</button>
        </div>

        <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
            <legend>弹窗功能说明</legend>
        </fieldset>
        <p class="site-demo-text">这些弹窗效果可应用于毕业设计选题管理系统的各个场景，如：<br>
        1. 课题审核时的确认弹窗<br>
        2. 提交选题后的成功提示<br>
        3. 截止日期临近的通知提醒<br>
        4. 课题详情查看的居中弹窗<br>
        5. 系统公告和重要通知的展示</p>
    </div>
</div>
<script src="../lib/layui-v2.6.3/layui.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
    layui.use('layer', function () {
        var $ = layui.jquery, layer = layui.layer;

        //触发事件
        var active = {
            setTop: function () {
                var that = this;
                //课题审核窗口（可置顶）
                layer.open({
                    type: 2 
                    , title: '课题审核 - 学生选题申请'
                    , area: ['600px', '400px']
                    , shade: 0.3
                    , maxmin: true
                    , offset: [ 
                        Math.random() * ($(window).height() - 400)
                        , Math.random() * ($(window).width() - 600)
                    ]
                    , content: '../page/topic-audit.html' //课题审核页面
                    , btn: ['通过审核', '驳回申请', '关闭']
                    , yes: function () {
                        layer.msg('审核已通过，正在通知学生...', {icon: 1});
                    }
                    , btn2: function () {
                        layer.prompt({title: '请输入驳回理由', formType: 2}, function(text, index){
                            layer.close(index);
                            layer.msg('已驳回申请，理由：'+text, {icon: 2});
                        });
                    }
                    , btn3: function () {
                        layer.closeAll('iframe');
                    }

                    , zIndex: layer.zIndex 
                    , success: function (layero) {
                        layer.setTop(layero);
                    }
                });
            }
            , confirmTrans: function () {
                //课题删除确认框
                layer.confirm('确定要删除该课题吗？<br>删除后将无法恢复，相关学生的选题也会被取消', {
                    title: '删除确认',
                    icon: 3,
                    btn: ['确认删除', '取消'] 
                }, function(index){
                    //确认删除操作
                    layer.close(index);
                    layer.msg('课题已成功删除', {icon: 1});
                }, function(index){
                    //取消删除
                    layer.close(index);
                });
            }
            , notice: function () {
                //系统公告通知
                layer.open({
                    type: 1
                    , title: false 
                    , closeBtn: false
                    , area: '400px;'
                    , shade: 0.8
                    , id: 'LAY_layuipro' 
                    , btn: ['我知道了', '稍后查看']
                    , btnAlign: 'c'
                    , moveType: 1 
                    , content: '<div style="padding: 30px; line-height: 22px; background-color: #f5f5f5; color: #333; font-weight: 300;">\
                                <h3 style="margin-bottom: 15px; color: #496bb7;">【系统公告】毕业设计选题时间调整通知</h3>\
                                <p>各位老师和同学：</p>\
                                <p>原定于6月15日截止的毕业设计选题工作，因系统升级将延长至6月25日。</p>\
                                <p>请各位同学在此之前完成选题确认，教师完成课题审核工作。</p>\
                                <p style="margin-top: 15px;">—— 教务处 2023年6月10日</p>\
                              </div>'
                });
            }
            , offset: function (othis) {
                var type = othis.data('type')
                    , text = othis.text();
                    
                //根据不同位置定义不同内容
                var content = '<div style="padding: 20px;">' + text + '</div>';
                if(type === 'r'){
                    content = '<div style="padding: 15px 20px;"><i class="layui-icon layui-icon-success" style="color: green; font-size: 20px;"></i> 课题提交成功！</div>';
                }else if(type === 'b'){
                    content = '<div style="padding: 15px 20px;">课题申报截止时间：3天后</div>';
                }else if(type === 't'){
                    content = '<div style="padding: 15px 20px;">您有3条新的课题消息待查看</div>';
                }else if(type === 'auto'){
                    content = '<div style="padding: 20px 30px;"><h3 style="margin-bottom: 15px;">基于人工智能的图像识别研究</h3><p>指导教师：张教授</p><p>课题类型：计算机科学与技术</p><p>难度系数：★★★★☆</p><p>简介：本课题旨在研究...</p></div>';
                }

                layer.open({
                    type: 1
                    , offset: type 
                    , id: 'layerDemo' + type 
                    , content: content
                    , btn: type === 'auto' ? ['选择此课题', '关闭'] : '关闭'
                    , btnAlign: 'c'
                    , shade: type === 'auto' ? 0.3 : 0
                    , yes: function () {
                        if(type === 'auto'){
                            layer.msg('已成功选择该课题，等待教师审核', {icon: 1});
                        }
                        layer.closeAll();
                    }
                });
            }
        };

        $('#layerDemo .layui-btn').on('click', function () {
            var othis = $(this), method = othis.data('method');
            active[method] ? active[method].call(this, othis) : '';
        });

    });
</script>

</body>
</html>
    